<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
	<link rel="stylesheet" type="text/css" href="css/css.css">
</head>
<body id="body">

	<div id="mapContainer">
		<canvas id='gameMap' width='512' height='512'></canvas>
		<img id='canvasBg'>
	</div>

	<div class="dPad" oncontextmenu="return false;">
		<img id="upButton" class="arrowImage" src="./image/upButton.png">
		<img id="downButton" class="arrowImage" src="./image/downButton.png">
		<img id="leftButton" class="arrowImage" src="./image/leftButton.png">
		<img id="rightButton" class="arrowImage" src="./image/rightButton.png">
	</div>
	
	<script src="js/app.js"></script>
	<script src="js/libs/observable.js"></script>
	<script src="js/models/playerModel.js"></script>
	<script src="js/models/tileModel.js"></script>
	<script src="js/models/mapModel.js"></script>
	<script src="js/controllers/globalController.js"></script>
	<script src="js/views/globalView.js"></script>
	<script src="js/models/globalModel.js"></script>
	<script type="text/javascript">
		var mod = app.startGlobal();

		var mapLarge1 = [
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],
			[0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],
			[0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,0,0,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0],
			[0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0],
			[0,0,1,1,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,0,0],
			[0,0,1,1,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,0,0],
			[0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0],
			[0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0],
			[0,0,1,1,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,1,1,0,0,1,1,0,0],
			[0,0,1,1,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,1,1,0,0,1,1,0,0],
			[0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],
			[0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],
			[0,0,1,1,0,0,0,0,0,0,1,0,0,1,1,1,1,1,1,0,0,1,0,0,0,0,0,0,1,1,0,0],
			[0,0,1,1,0,0,0,0,0,0,1,0,0,1,1,1,1,1,1,0,0,1,0,0,0,0,0,0,1,1,0,0],
			[0,0,1,1,0,0,0,0,0,0,1,0,0,1,1,1,1,1,1,0,0,1,0,0,0,0,0,0,1,1,0,0],
			[0,0,1,1,0,0,0,0,0,0,1,0,0,1,1,1,1,1,1,0,0,1,0,0,0,0,0,0,1,1,0,0],
			[0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],
			[0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],
			[0,0,1,1,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,1,1,0,0,1,1,0,0],
			[0,0,1,1,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,1,0,0,0,0,1,1,0,0,1,1,0,0],
			[0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0],
			[0,0,1,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,0,0,1,1,0,0],
			[0,0,1,1,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,0,0],
			[0,0,1,1,0,0,1,1,1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1,1,1,0,0,1,1,0,0],
			[0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,1,1,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0],
			[0,0,1,1,0,0,0,0,0,0,1,1,0,0,1,0,0,1,0,0,1,1,0,0,0,0,0,0,1,1,0,0],
			[0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],
			[0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		]
		var mapLarge2 =
		[  //a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p 	     q,r,s,t,u,v,w,x,y,z,1,2,3,4,5,6
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,/* 1 */ 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
 			[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,/* 2 */ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
 			[0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0,/* 3 */ 0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0],
 			[0,1,0,1,1,1,0,0,0,0,1,1,1,0,1,0,/* 4 */ 0,1,0,1,1,1,0,0,0,0,1,1,1,0,1,0],
 			[0,1,0,1,0,1,1,1,1,1,1,0,1,0,1,0,/* 5 */ 0,1,0,1,0,1,1,1,1,1,1,0,1,0,1,0],
 			[0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,/* 6 */ 0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0],
 			[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,/* 7 */ 0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
 			[0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0,/* 8 */ 0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0],
 			[0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0,/* 9 */ 0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0],
 			[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,/* 10*/ 0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
			[0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,/* 11*/ 0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0],
			[0,1,0,1,0,1,1,1,1,1,1,0,1,0,1,0,/* 12*/ 0,1,0,1,0,1,1,1,1,1,1,0,1,0,1,0],
			[0,1,0,1,1,1,0,0,0,0,1,1,1,0,1,0,/* 13*/ 0,1,0,1,1,1,0,0,0,0,1,1,1,0,1,0],
			[0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0,/* 14*/ 0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0],
			[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,/* 15*/ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
			[0,1,0,0,0,0,1,0,0,1,0,0,0,0,1,0,/* 16*/ 0,1,0,0,0,0,1,0,0,1,0,0,0,0,1,0],
		   //a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p 	     q,r,s,t,u,v,w,x,y,z,1,2,3,4,5,6
			[0,1,0,0,0,0,1,0,0,1,0,0,0,0,1,0,/* 17*/ 0,1,0,0,0,0,1,0,0,1,0,0,0,0,1,0],
			[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,/* 18*/ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
			[0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0,/* 19*/ 0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0],
			[0,1,0,1,1,1,0,0,0,0,1,1,1,0,1,0,/* 20*/ 0,1,0,1,1,1,0,0,0,0,1,1,1,0,1,0],
			[0,1,0,1,0,1,1,1,1,1,1,0,1,0,1,0,/* 21*/ 0,1,0,1,0,1,1,1,1,1,1,0,1,0,1,0],
			[0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,/* 22*/ 0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0],
			[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,/* 23*/ 0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
			[0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0,/* 24*/ 0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0],
			[0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0,/* 25*/ 0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0],
			[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,/* 26*/ 0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
			[0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0,/* 27*/ 0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0],
			[0,1,0,1,0,1,1,1,1,1,1,0,1,0,1,0,/* 28*/ 0,1,0,1,0,1,1,1,1,1,1,0,1,0,1,0],
			[0,1,0,1,1,1,0,0,0,0,1,1,1,0,1,0,/* 29*/ 0,1,0,1,1,1,0,0,0,0,1,1,1,0,1,0],
			[0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0,/* 30*/ 0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0],
			[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,/* 31*/ 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
			[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,/* 32*/ 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
		]

		var mapMini1 = [
			[0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0],
			[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
			[0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0],
			[0,1,0,1,1,1,0,0,0,0,1,1,1,0,1,0],
			[0,1,0,1,0,1,1,1,1,1,1,0,1,0,1,0],
			[0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0],
			[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
			[1,1,0,0,0,1,0,1,1,0,1,0,0,0,1,1],
			[1,1,0,0,0,1,0,1,1,0,1,0,0,0,1,1],
			[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
			[0,1,0,1,0,0,0,0,0,0,0,0,1,0,1,0],
			[0,1,0,1,0,1,1,1,1,1,1,0,1,0,1,0],
			[0,1,0,1,1,1,0,0,0,0,1,1,1,0,1,0],
			[0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0],
			[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
			[0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0],
		]

		var mapMini2 = [
			[0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0],
			[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
			[0,1,0,0,0,1,0,0,0,0,1,0,0,0,1,0],
			[0,1,0,1,1,1,0,0,0,0,1,1,1,0,1,0],
			[0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0],
			[0,1,0,1,0,1,1,1,1,1,1,0,1,0,1,0],
			[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
			[1,1,0,1,0,1,1,0,0,1,1,0,1,0,1,1],
			[1,1,0,1,0,1,1,0,0,1,1,0,1,0,1,1],
			[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
			[0,1,0,1,0,1,1,1,1,1,1,0,1,0,1,0],
			[0,1,0,1,1,1,1,1,1,1,1,1,1,0,1,0],
			[0,1,0,1,1,1,0,0,0,0,1,1,1,0,1,0],
			[0,1,0,0,0,1,0,0,0,0,1,0,0,0,1,0],
			[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
			[0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0],
		]

		var mapMini3 = [
			[0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0],
			[0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0],
			[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
			[0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0],
			[0,1,0,0,0,1,1,1,1,1,1,0,0,0,1,0],
			[0,1,0,0,0,1,1,1,1,1,1,0,0,0,1,0],
			[1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1],
			[1,1,0,1,0,1,0,0,0,0,1,0,1,0,1,1],
			[1,1,0,1,0,1,0,0,0,0,1,0,1,0,1,1],
			[1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1],
			[0,1,0,0,0,1,1,1,1,1,1,0,0,0,1,0],
			[0,1,0,0,0,1,1,1,1,1,1,0,0,0,1,0],
			[0,1,0,0,0,1,0,1,1,0,1,0,0,0,1,0],
			[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
			[0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0],
			[0,0,0,0,0,0,1,1,1,1,0,0,0,0,0,0],
		]

		var mapMini4 = [
			[0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0],
			[0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0],
			[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
			[0,1,1,0,0,0,0,1,1,0,0,0,0,1,1,0],
			[0,1,1,0,1,1,1,1,1,1,1,1,0,1,1,0],
			[0,1,1,0,1,1,1,1,1,1,1,1,0,1,1,0],
			[1,1,0,0,1,1,1,0,0,1,1,1,0,0,1,1],
			[1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1],
			[1,1,1,1,1,1,0,0,0,0,1,1,1,1,1,1],
			[1,1,0,0,1,1,1,0,0,1,1,1,0,0,1,1],
			[0,1,1,0,1,1,1,1,1,1,1,1,0,1,1,0],
			[0,1,1,0,1,1,1,1,1,1,1,1,0,1,1,0],
			[0,1,1,0,0,0,0,1,1,0,0,0,0,1,1,0],
			[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],
			[0,1,1,1,1,1,0,1,1,0,1,1,1,1,1,0],
			[0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,0],
		]
		var mapList = [
			mapMini1,
			mapMini2,
			mapMini3,
			mapMini4,
		]
		var mapList2 = [
			mapLarge1,
			mapLarge2,
		]

		var tiles = [
			{
				0:{name: 'tileStone32x.png',size:{width: 32, height: 32},isBlock: true},
			 	1:{name: 'tileStoneB32x.png',size:{width: 32, height: 32},isBlock: true},
			},
			{0:{name: 'tileSand32x.png',size:{width: 32, height: 32},isBlock: false}},
		];
		var map = mod[1];//new app.models.MapModel();
		map.setMapTilesList(tiles)
		//map.setMap(mapPatern)
		map.setMap(mapList,3);
		map.generateMap();
		map.updateViewMap(mod[2]);
		var player = new app.models.PlayerModel();
		player.setView(mod[2]);
	</script>
</body>
</html>
